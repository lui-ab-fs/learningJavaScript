<head>
    <title>Juego de Preguntas</title>
</head>
<body onload="comenzarCuentaRegresiva()">
    <p>Dime una peli que te encanta</p>
    <input type="text" id="respuesta1">
    <p>Dime una de tus canciones favoritas</p>
    <input type="text" id="respuesta2">
    <p>Dime tu ciudad favorita</p>
    <input type="text" id="respuesta3">
    <p>Dime uno de tus restaurantes favoritos</p>
    <input type="text" id="respuesta4">
    <p>Dime una bebida que te encanta</p>
    <input type="text" id="respuesta5">
    <br>
    <br>
    <button onclick="finalizado()"">Terminé!</button>
    <button onclick="volverAIntentar()">Volver a Intentar</button>

    <h2>Cuenta Regresiva: <span id="cuentaRegresiva"></span></h2>

    <audio id="audioFinal">
        <source src="gameover.mp3" type="audio/mpeg">
        Sonido no habilitado
    </audio>

    <script>
        let tiempoTerminado;
        let intervaloDeTiempo;

        function comenzarCuentaRegresiva(){
            tiempoTerminado = setTimeout(tiempoCumplido, 30000);
            intervaloDeTiempo = setInterval(ticTac, 1000);

            document.getElementById("cuentaRegresiva").textContent = 30;
        }

        function ticTac(){
            let tiempo = document.getElementById("cuentaRegresiva").textContent;

            document.getElementById("cuentaRegresiva").textContent = tiempo - 1;
        }

        function tiempoCumplido(){
            clearInterval(intervaloDeTiempo);
            document.getElementById("cuentaRegresiva").textContent = 0;
            document.getElementById("audioFinal").play();
            alert("GAME OVER: Se acabó el tiempo. Intenta nuevamente.");
        }

        function finalizado(){
            clearTimeout(tiempoTerminado);
            clearInterval(intervaloDeTiempo);

            let fecha = new Date();

            let elementoRespuesta1 = document.getElementById("respuesta1").value;
            let elementoRespuesta2 = document.getElementById("respuesta2").value;
            let elementoRespuesta3 = document.getElementById("respuesta3").value;
            let elementoRespuesta4 = document.getElementById("respuesta4").value;
            let elementoRespuesta5 = document.getElementById("respuesta5").value;

            let mensaje = fecha.toLocaleDateString("es-Es") 
            + " " 
            + "Las respuestas son: " 
            + elementoRespuesta1 
            + ", " 
            + elementoRespuesta2 
            + ", " 
            + elementoRespuesta3 
            + ", " 
            + elementoRespuesta4 
            + " y " 
            + elementoRespuesta5;

            alert(mensaje)
        }

    </script>
</body>